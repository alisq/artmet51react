// ------------------------------------------------------
// Imports
// ------------------------------------------------------
@use 'typography.scss';
@use 'vars' as *; // exposes $light, $dark, etc.
@use 'menu' as *; // exposes $light, $dark, etc.
// ------------------------------------------------------
// Mixins & Utilities
// ------------------------------------------------------
@mixin container($max: 1300px) {
  max-width: $max;
  margin-inline: auto;
}

@mixin grid($cols, $gap: .5em) {
  display: grid;
  grid-template-columns: $cols;
  gap: $gap;
}

@mixin transition($props: all, $dur: .2s, $ease: ease) {
  transition: $props $dur $ease;
}

// Utilities
.text-center { text-align: center; }
.right-align { text-align: right; font-weight: bold; }
.small { font-size: .7em; }
.hideBig { display: none; }

// ------------------------------------------------------
// Base / Reset
// ------------------------------------------------------
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

*::selection {
  color: $light;
  background-color: $dark;
}

html,
body { height: 100%; }

body {
  font-family: 'aper';
  font-size: 18px;
  background: $light;
  color: $dark;
}

.longer {
  min-width:120px;
}

img { max-width: 100%; }

a {
  color: inherit;
  text-decoration: none;

  &:hover,
  &:active { color: rgb(112, 0, 112); }
}


.align-right {
  text-align: right;
 
}
// ------------------------------------------------------
// Global Elements
// ------------------------------------------------------
#homeLogo {
  display: block;
  margin: 60px auto;
}

table {
  width: 100%;
  @include container(1400px);

  td {
    vertical-align: top;
    padding: 10px;
    max-width: 300px;
    @include transition(padding);
  }
}


// ------------------------------------------------------
// Layout
// ------------------------------------------------------
.tickets {
  @include grid(1fr 1fr);
  @include container(1000px);
  text-align: center;
}

#imageGrid {
  max-width: 1300px;
  @include container(1300px);
}

.split {
  @include grid(1fr 1fr 1fr);

  // & > div { text-align: center; } // keep if needed
}

#ticket-table { @include container(1100px); }

#footer {
  padding: 2em;

  .footer_grid {
    @include container(1300px);
    @include grid(1fr 1fr);

    & > div { padding: 1em; } // fixed typo "1 em"
  }
}

// ------------------------------------------------------
// Components
// ------------------------------------------------------
.hover-preview {
  position: fixed;
  pointer-events: none;
  z-index: 1000;

  img { max-width: 150px; }
}

.name-space {
  position: relative;
  @include transition(color);

  &:hover {
    -webkit-text-stroke: 1px $dark;
    text-stroke: 1px $dark; // non-standard but kept for parity
    color: $light;
    z-index: 501;
  }
}

#sponsors img {
  display: inline-block;
  vertical-align: middle;
}

#artworks {
  @include grid(repeat(4, 1fr), .5em);
  @include container(1000px);

  .thumb {
    img {
      max-width: 100%;
      @include transition(transform);
    }

    .small { margin-top: 0; @include transition(transform); }

    &:hover {
      img { transform: scale(.95); }
      .small { transform: translate(.3em, -0.5em); }
    }
  }
}

#cover {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  background: rgba($light, .95);
  z-index: 10000;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  @include transition(all, .3s);

  &.active {
    opacity: 1;
    visibility: visible;
    pointer-events: all;
  }

  img {
    display: block;
    max-width: 1000px;
    max-height: calc(100% - 2em);
    position: absolute;
    top: 1em;
    right: 1em;
  }

  p {
    position: absolute;
    left: 1em;
    bottom: 1em;
  }
}

#name-space-pic {
  position: fixed;
  pointer-events: none;
  top: -2100px;
  left: -1100px;
  background: black;
  width: 200px;
  height: auto;
  z-index: 500;
  @include transition(all, .3s);
  transform: translate(-50%, -50%);
}

// Row/expand states
.active {
  td { padding-top: 3em; }
  .hover-preview { display: none; }
}

.expanded {
    max-height:0;
    overflow:hidden;
    padding:0;
  // display: grid;
  // grid-template-columns: 1fr 1fr;
  column-gap: 1em;
  
  transition: max-height .3s, padding .3s;
  text-align:center;

   & img {
    margin:auto;
    max-height:700px;
   }

  .active & {
    max-height:800px;
    padding-bottom:3em;
  }
}


.sponsor_img {
  display:inline;
  max-width:150px;
}

p {
  max-width:600px;
  margin:1em auto;;
}
// ------------------------------------------------------
// Responsive
// ------------------------------------------------------
@media (max-width: 1000px) {
  .hideBig { display: table-cell; }


  p {
    margin:1em;
  }

  .hover-preview { display: none; }

  #imageGrid {
    display: block;

    td {
      display: block;
      padding: 0;
      text-align: center;
      max-width: 100%;
    }
  }

  .expanded {
    display: block;
    padding: 0 .5em;

    img { display: none; }
  }


  .headings {
    display:none;
  }

  // Ensure any images inside .hideBig scale nicely
  .hideBig {
    & img {
      padding: 1em ;
      max-width: 100%;
      width: 100%;
      display: block;
      margin: auto; // fixed typo "margi:autp"
    }

    .artist-card:last-child & h3 {
      display: none;
    }
  }
}
